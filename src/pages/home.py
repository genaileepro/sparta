import streamlit as st
from src.utils.session_state import update_step, add_token, get_tokens

def show():
    """í™ˆ í˜ì´ì§€ í‘œì‹œ (ì§€ì—­ ì…ë ¥)"""
    
    st.write("ğŸŒ ì–´ëŠ ì§€ì—­ì—ì„œ ìŒì‹ì„ ì°¾ê³  ê³„ì‹ ê°€ìš”?")
    
    # ì§€ì—­ ì…ë ¥ í•„ë“œ
    region = st.text_input(
        "ì§€ì—­ëª…ì„ ì…ë ¥í•˜ì„¸ìš” (ì˜ˆ: ê°•ë‚¨êµ¬ ë´‰ì€ì‚¬ì—­, ì„œìš¸ì—­ ì£¼ë³€, ì¢…ë¡œêµ¬ ë“±)",
        placeholder="ì§€ì—­ëª… ì…ë ¥...",
        key="region_input"
    )
    
    # ë‹¤ìŒ ë‹¨ê³„ë¡œ ì´ë™í•˜ëŠ” ë²„íŠ¼
    if st.button("ë‹¤ìŒ ë‹¨ê³„ë¡œ", use_container_width=True, type="primary"):
        if not region:
            st.error("ì§€ì—­ì„ ì…ë ¥í•´ì£¼ì„¸ìš”!")
            return
        
        # ì§€ì—­ ì •ë³´ ì €ì¥
        add_token("region", region)
        
        # ë‹¤ìŒ ë‹¨ê³„ë¡œ ì´ë™
        update_step("select_taste")
        st.rerun()
    
    # ì•± ì†Œê°œ (ì ‘ì„ ìˆ˜ ìˆëŠ” ì˜ì—­)
    with st.expander("ğŸ” ë¨¹ê¹¨ë¹„ë€?"):
        st.markdown("""
        **ë¨¹ê¹¨ë¹„**ëŠ” ë‹¹ì‹ ì˜ ìŒì‹ ì·¨í–¥ì„ ëª‡ ë²ˆì˜ í´ë¦­ìœ¼ë¡œ íŒŒì•…í•˜ì—¬ ë§ì¶¤í˜• ìŒì‹ê³¼ ì‹ë‹¹ì„ ì¶”ì²œí•´ ë“œë¦½ë‹ˆë‹¤.

        **ì‚¬ìš© ë°©ë²•**
        1. ì§€ì—­ ì…ë ¥ (í˜„ì¬ ë‹¨ê³„)
        2. ì›í•˜ëŠ” ë§›/ì§ˆê° ì„ íƒ
        3. ìŒì‹ ì¥ë¥´ ì„ íƒ
        4. ì¡°ë¦¬ë°©ì‹ ì„ íƒ
        5. ì¶”ì²œ ê²°ê³¼ í™•ì¸
        
        GPTë¥¼ í™œìš©í•´ ë‹¹ì‹ ì˜ ì·¨í–¥ì— ê¼­ ë§ëŠ” ë§›ì§‘ì„ ì°¾ì•„ë“œë¦½ë‹ˆë‹¤!
        """) 